
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://autowarefoundation.github.io/AWSIM-Labs/pr-142/Components/ROS2/ROS2ForUnity/">
      
      
        <link rel="prev" href="../AddACustomROS2Message/">
      
      
        <link rel="next" href="../../ScenarioSimulation/SetupUnityProjectForScenarioSimulation/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.35">
    
    
      
        <title>ROS2 For Unity - AWSIM Labs Documentation</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.35f28582.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/css/extra.css">
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ros2-for-unity" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="AWSIM Labs Documentation" class="md-header__button md-logo" aria-label="AWSIM Labs Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M135.2 117.4 109.1 192h293.8l-26.1-74.6c-4.5-12.8-16.6-21.4-30.2-21.4H165.4c-13.6 0-25.7 8.6-30.2 21.4m-95.6 79.4L74.8 96.3C88.3 57.8 124.6 32 165.4 32h181.2c40.8 0 77.1 25.8 90.6 64.3l35.2 100.5c23.2 9.6 39.6 32.5 39.6 59.2v192c0 17.7-14.3 32-32 32h-32c-17.7 0-32-14.3-32-32v-48H96v48c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V256c0-26.7 16.4-49.6 39.6-59.2M128 288a32 32 0 1 0-64 0 32 32 0 1 0 64 0m288 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            AWSIM Labs Documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              ROS2 For Unity
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="light-green" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="grey" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/autowarefoundation/AWSIM-Labs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="AWSIM Labs Documentation" class="md-nav__button md-logo" aria-label="AWSIM Labs Documentation" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M135.2 117.4 109.1 192h293.8l-26.1-74.6c-4.5-12.8-16.6-21.4-30.2-21.4H165.4c-13.6 0-25.7 8.6-30.2 21.4m-95.6 79.4L74.8 96.3C88.3 57.8 124.6 32 165.4 32h181.2c40.8 0 77.1 25.8 90.6 64.3l35.2 100.5c23.2 9.6 39.6 32.5 39.6 59.2v192c0 17.7-14.3 32-32 32h-32c-17.7 0-32-14.3-32-32v-48H96v48c0 17.7-14.3 32-32 32H32c-17.7 0-32-14.3-32-32V256c0-26.7 16.4-49.6 39.6-59.2M128 288a32 32 0 1 0-64 0 32 32 0 1 0 64 0m288 32a32 32 0 1 0 0-64 32 32 0 1 0 0 64"/></svg>

    </a>
    AWSIM Labs Documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/autowarefoundation/AWSIM-Labs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.6.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8M97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Getting started
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Getting started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GettingStarted/QuickStartDemo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Quick Start Demo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GettingStarted/SetupUnityProject/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup Unity Project
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GettingStarted/UsingOpenSCENARIO/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Using OpenSCENARIO
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../GettingStarted/ParkingArea/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Parking Area
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Introduction
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Introduction/Autoware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Autoware
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Introduction/AWSIM/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWSIM Labs
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Introduction/CombinationWithAutoware/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CombinationWithAutoware
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Project guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Project guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ProjectGuide/Directory/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Directory
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ProjectGuide/HotkeyList/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Hotkey List
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ProjectGuide/Scenes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Scenes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ProjectGuide/GitBranch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git Branch
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ProjectGuide/ExternalLibraries/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    External Libraries
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" checked>
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Components
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Components
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_1" >
        
          
          <label class="md-nav__link" for="__nav_5_1" id="__nav_5_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Clock
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_1">
            <span class="md-nav__icon md-icon"></span>
            Clock
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Clock/ClockPublisher/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Clock Publisher
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Vehicle
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            Vehicle
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/EgoVehicle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ego Vehicle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/URDFAndSensors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    URDF And Sensors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/DynamicSensorPlacement/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dynamic Sensor Placement
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2_4" >
        
          
          <label class="md-nav__link" for="__nav_5_2_4" id="__nav_5_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Add New Vehicle
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2_4">
            <span class="md-nav__icon md-icon"></span>
            Add New Vehicle
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/AddNewVehicle/AddAVehicle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Vehicle
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/AddNewVehicle/AddColliders/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Colliders
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/AddNewVehicle/AddSensors/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Sensors
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/AddNewVehicle/AddVisualElements/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Visual Elements
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/CustomizeSlip/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Customize Slip
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/FollowCamera/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    FollowCamera
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Vehicle/VPPIntegration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VPP Integration
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_3" id="__nav_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Sensors
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3">
            <span class="md-nav__icon md-icon"></span>
            Sensors
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_3_1" >
        
          
          <label class="md-nav__link" for="__nav_5_3_1" id="__nav_5_3_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    LiDAR Sensor
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_3_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_3_1">
            <span class="md-nav__icon md-icon"></span>
            LiDAR Sensor
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sensors/LiDARSensor/LiDARSensor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LiDAR Sensor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sensors/LiDARSensor/AddNewLiDAR/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add New LiDAR
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sensors/LiDARSensor/ReadMaterialInformation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Read Material Information
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sensors/LiDARSensor/RGLUnityPlugin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RGLUnityPlugin
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sensors/CameraSensor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Camera Sensor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sensors/IMUSensor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IMU Sensor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sensors/GNSSSensor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GNSS Sensor
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Sensors/VehicleStatusSensor/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vehicle Status Sensor
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4" >
        
          
          <label class="md-nav__link" for="__nav_5_4" id="__nav_5_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Environment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4">
            <span class="md-nav__icon md-icon"></span>
            Environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/AWSIMEnvironment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    AWSIM Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4_2" >
        
          
          <label class="md-nav__link" for="__nav_5_4_2" id="__nav_5_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Add New Environment
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4_2">
            <span class="md-nav__icon md-icon"></span>
            Add New Environment
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/AddNewEnvironment/AddEnvironment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Environment
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_4_2_2" >
        
          
          <label class="md-nav__link" for="__nav_5_4_2_2" id="__nav_5_4_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Add RandomTraffic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_5_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            Add RandomTraffic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/AddNewEnvironment/AddRandomTraffic/LoadItemsFromLanelet/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Load Items From Lanelet
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/AddNewEnvironment/AddRandomTraffic/AddRandomTraffic/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Random Traffic
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/AddNewEnvironment/AddRandomTraffic/AddTrafficIntersection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Traffic Intersection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/AddNewEnvironment/AddTrafficLights/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add TrafficLights
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/CreatePCD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create PCD
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/LaneletBoundsVisualizer/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LaneletBoundsVisualizer
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/SmokeSimulator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    SmokeSimulator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Environment/V2I/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    V2I
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5" >
        
          
          <label class="md-nav__link" for="__nav_5_5" id="__nav_5_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Traffic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5">
            <span class="md-nav__icon md-icon"></span>
            Traffic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Traffic/TrafficComponents/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Traffic Components
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_5_2" id="__nav_5_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Random Traffic
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_2">
            <span class="md-nav__icon md-icon"></span>
            Random Traffic
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Traffic/RandomTraffic/RandomTrafficSimulator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Random Traffic Simulator
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Traffic/RandomTraffic/YieldingRules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Yielding Rules
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Traffic/RandomTraffic/AddRandomTrafficEnvironment/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add Random Traffic Environment
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_5_3" >
        
          
          <label class="md-nav__link" for="__nav_5_5_3" id="__nav_5_5_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    NPCs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_5_5_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_5_3">
            <span class="md-nav__icon md-icon"></span>
            NPCs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Traffic/NPCs/RvizNPCSpawner/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Spawn NPCs from RVIZ
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Traffic/NPCs/Pedestrian/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Pedestrian
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Traffic/NPCs/Vehicle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vehicle
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5_6" checked>
        
          
          <label class="md-nav__link" for="__nav_5_6" id="__nav_5_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ROS2
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_5_6">
            <span class="md-nav__icon md-icon"></span>
            ROS2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../ROS2TopicList/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ROS2 topic list
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../AddACustomROS2Message/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add custom ROS2 msg
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    ROS2 For Unity
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    ROS2 For Unity
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concept" class="md-nav__link">
    <span class="md-ellipsis">
      Concept
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Package structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Package structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extension-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Extension Scripts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-message-types" class="md-nav__link">
    <span class="md-ellipsis">
      Default message types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-of-generated-messages-in-unity" class="md-nav__link">
    <span class="md-ellipsis">
      Use of generated messages in Unity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use of generated messages in Unity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      Create an object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-and-filling-in-message-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing and filling in message fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filling-a-time" class="md-nav__link">
    <span class="md-ellipsis">
      Filling a time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-message-with-array" class="md-nav__link">
    <span class="md-ellipsis">
      Create a message with array
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#publish-on-the-topic" class="md-nav__link">
    <span class="md-ellipsis">
      Publish on the topic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscribe-to-the-topic" class="md-nav__link">
    <span class="md-ellipsis">
      Subscribe to the topic
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_7" >
        
          
          <label class="md-nav__link" for="__nav_5_7" id="__nav_5_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OpenSCENARIO
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_7">
            <span class="md-nav__icon md-icon"></span>
            OpenSCENARIO
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ScenarioSimulation/SetupUnityProjectForScenarioSimulation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Setup Unity project for scenario simulation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../ScenarioSimulation/PreparingTheConnectionBetweenAWSIMAndScenarioSimulator/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preparing the connection between AWSIM and scenario_simulator_v2
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
      
        
        
      
    
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="">
            
  
  <span class="md-ellipsis">
    Developer guide
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Developer guide
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/HowToContribute/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Contribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/EditorSetup/VSCode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VSCode Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/EditorSetup/JetBrainsRider/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Rider Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/EditorSetup/Graphy/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Graphy Asset Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/EditorSetup/VPPCommunityEdition/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vehicle Physics Pro CE Setup
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/TroubleShooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Trouble shooting
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/Documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/License/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    License
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../DeveloperGuide/Contact/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#prerequisites" class="md-nav__link">
    <span class="md-ellipsis">
      Prerequisites
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#concept" class="md-nav__link">
    <span class="md-ellipsis">
      Concept
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#package-structure" class="md-nav__link">
    <span class="md-ellipsis">
      Package structure
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Package structure">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Scripts
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extension-scripts" class="md-nav__link">
    <span class="md-ellipsis">
      Extension Scripts
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#default-message-types" class="md-nav__link">
    <span class="md-ellipsis">
      Default message types
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#use-of-generated-messages-in-unity" class="md-nav__link">
    <span class="md-ellipsis">
      Use of generated messages in Unity
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Use of generated messages in Unity">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#create-an-object" class="md-nav__link">
    <span class="md-ellipsis">
      Create an object
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#accessing-and-filling-in-message-fields" class="md-nav__link">
    <span class="md-ellipsis">
      Accessing and filling in message fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#filling-a-time" class="md-nav__link">
    <span class="md-ellipsis">
      Filling a time
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-a-message-with-array" class="md-nav__link">
    <span class="md-ellipsis">
      Create a message with array
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#publish-on-the-topic" class="md-nav__link">
    <span class="md-ellipsis">
      Publish on the topic
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#subscribe-to-the-topic" class="md-nav__link">
    <span class="md-ellipsis">
      Subscribe to the topic
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<div><h1 id="ros2-for-unity">ROS2 For Unity<a class="headerlink" href="#ros2-for-unity" title="Permanent link">#</a></h1>
<p><a href="https://github.com/RobotecAI/ros2-for-unity"><em>Ros2ForUnity</em></a> (<code>R2FU</code>) module is a communication solution that effectively connects <em>Unity</em> and the <em>ROS2</em> ecosystem, maintaining a strong integration.
Unlike other solutions, it doesn't rely on bridging communication but rather utilizes the <em>ROS2</em> middleware stack (specifically the <code>rcl</code> layer and below), enabling the inclusion of <em>ROS2</em> nodes within <em>Unity</em> simulations.</p>
<p><code>R2FU</code> is used in <em>AWSIM</em> for many reasons.
First of all, because it offers high-performance integration between <em>Unity</em> and <em>ROS2</em>, with improved throughput and lower latencies compared to bridging solutions.
It provides real <em>ROS2</em> functionality for simulation entities in <em>Unity</em>, supports standard and custom messages, and includes convenient abstractions and tools, all wrapped as a <em>Unity</em> asset.
For a detailed description, please see <a href="https://github.com/RobotecAI/ros2-for-unity/blob/master/README.md"><em>README</em></a>.</p>
<h2 id="prerequisites">Prerequisites<a class="headerlink" href="#prerequisites" title="Permanent link">#</a></h2>
<p>This asset can be prepared in two flavours:</p>
<ul>
<li><em>standalone mode</em> - where no <em>ROS2</em> installation is required on target machine, e.g., your <em>Unity</em> simulation server.
All required dependencies are installed and can be used e.g. as a complete set of <em>Unity</em> plugins.</li>
<li><em>overlay mode</em> - where the <em>ROS2</em> installation is required on target machine.
Only asset libraries and generated messages are installed therefore <em>ROS2</em> instance must be sourced.</li>
</ul>
<p>By default, asset <code>R2FU</code> in <em>AWSIM</em> is prepared in <em>standalone mode</em>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>To avoid internal conflicts between the standalone libraries, and sourced ones, <em>ROS2</em> instance shouldn't be sourced before running AWSIM or the <em>Unity</em> Editor.</p>
</div>
<div class="admonition question">
<p class="admonition-title">Can't see topics</p>
<p>There are no errors but I can't see topics published by <code>R2FU</code></p>
<ul>
<li>Make sure your DDS (<a href="../../../GettingStarted/QuickStartDemo/#localhost-settings">Localhost settings</a>) config is correct.</li>
<li>Sometimes <em>ROS2</em> daemon brakes up when changing network interfaces or <em>ROS2</em> version.</li>
</ul>
</div>
<p>Try to stop it forcefully (<code>pkill -9 ros2_daemon</code>) and restart (<code>ros2 daemon start</code>).</p>
<h2 id="concept">Concept<a class="headerlink" href="#concept" title="Permanent link">#</a></h2>
<p>Describing the concept of using <code>R2FU</code> in <em>AWSIM</em>, we distinguish:</p>
<ul>
<li><em>ROS2Node</em> - it is the equivalent of a node in <em>ROS2</em>, it has its own name, it can have any number of subscribers, publishers, service servers and service clients.
In the current <em>AWSIM</em> implementation, there is only one main node.</li>
<li><em>ROS2Clock</em> - it is responsible for generating the simulation time using the selected source.</li>
<li><em>SimulatorROS2Node</em> - it is a class that is directly responsible for <em>AWSIM&lt;-&gt;ROS2</em> communication, and contains one instance each of <em>ROS2Node</em> and <em>ROS2Clock</em>, so it creates the main <em>AWSIM</em> node in <em>ROS2</em> and simulates the time from the selected source (currently <a href="https://docs.unity3d.com/ScriptReference/Time.html">UnityTimeSource</a> is used).
It is initialized at the moment of running the scene in <em>Unity</em> - thanks to the <a href="https://docs.unity3d.com/ScriptReference/RuntimeInitializeOnLoadMethodAttribute.html"><code>RuntimeInitializeOnLoadMethod</code></a> mark.</li>
<li><em>Publisher</em> - it is the equivalent of the publisher in <em>ROS2</em>, it uses a single topic on which it can publish a selected type of message, and it has a selected <a href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html"><em>QoS</em></a> profile.
Each publisher in <em>AWSIM</em> is created in <em>ROS2Node</em> object of class <em>SimulatorROS2Node</em>.</li>
<li><em>Subscriber</em> - it is the equivalent of the subscriber in <em>ROS2</em>, it uses a single topic from which it subscribes to the selected type of message, and it has a selected <a href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html"><em>QoS</em></a> profile.
Each subscriber in <em>AWSIM</em> is created in <em>ROS2Node</em> object of class <em>SimulatorROS2Node</em>.</li>
</ul>
<!-- - TODO: *Service Server* -  -->
<!-- - TODO: *Service Client* - -->

<p>The <em>SimulatorROS2Node</em> implementation, thanks to the use of <code>R2FU</code>, allows you to add communication via <em>ROS2</em> to any Unity component.
For example, we can receive control commands from any other <em>ROS2</em> node and publish the current state of <em>Ego</em>, such as its position in the environment.</p>
<div class="admonition tip">
<p class="admonition-title">Simulation time</p>
<p>If you want to use system time (<em>ROS2</em> time) instead of <em>Unity</em> time, use <code>ROS2TimeSource</code> instead of <code>UnityTimeSource</code> in the <code>SimulatorROS2Node</code> class.</p>
</div>
<h2 id="package-structure">Package structure<a class="headerlink" href="#package-structure" title="Permanent link">#</a></h2>
<p><code>Ros2ForUnity</code> asset contains:</p>
<ul>
<li><em>Plugins</em> - dynamically loaded libraries for <em>Windows</em> and <em>Linux</em> (<code>*.dll</code> and <code>*.so</code> files).
In addition to the necessary libraries, here are the libraries created as a result of generation the types of <em>ROS2</em> messages that are used in communication.</li>
<li><em>Scripts</em> - scripts for using <code>R2FU</code>  in <em>Unity</em> - details <a href="#scripts">below</a>.</li>
<li><em>Extension Scripts</em> - scripts for using <code>R2FU</code> in <em>AWSIM</em>, provide abstractions of a single main <em>Node</em> and simplify the interface  - details <a href="#extension-scripts">below</a>.
These scripts are not in the library itself, but directly in the directory <code>Assets/AWSIM/Scripts/ROS/**</code>.</li>
</ul>
<h3 id="scripts">Scripts<a class="headerlink" href="#scripts" title="Permanent link">#</a></h3>
<ul>
<li><code>ROS2UnityCore</code> - the principal class for handling <em>ROS2</em> nodes and executables.
Spins and executes actions (e.g. clock, sensor publish triggers) in a dedicated thread.</li>
<li><code>ROS2UnityComponent</code> - <code>ROS2UnityCore</code> adapted to work as a <em>Unity</em> component.</li>
<li><code>ROS2Node</code> - a class representing a <em>ROS2</em> node, it should be constructed through <code>ROS2UnityComponent</code> class, which also handles spinning.</li>
<li><code>ROS2ForUnity</code> - an internal class responsible for handling checking, proper initialization and shutdown of <em>ROS2</em> communication,</li>
<li><code>ROS2ListenerExample</code> - an example class provided for testing of basic <em>ROS2-&gt;Unity</em> communication.</li>
<li><code>ROS2TalkerExample</code> - an example class provided for testing of basic <em>Unity-&gt;ROS2</em> communication.</li>
<li><code>ROS2PerformanceTest</code> - an example class provided for performance testing of <em>ROS2&lt;-&gt;Unity</em> communication.</li>
<li><code>Sensor</code> - an abstract base class for <em>ROS2</em>-enabled sensor.</li>
<li><code>Transformations</code> - a set of transformation functions between coordinate systems of <em>Unity</em> and <em>ROS2</em>.</li>
<li><code>PostInstall</code> - an internal class responsible for installing <code>R2FU</code> metadata files.</li>
<li><code>Time</code> scripts - a set of classes that provide  the ability to use different time sources:<ul>
<li><code>ROS2Clock</code> - <em>ROS2</em> clock class that for interfacing between a time source (<em>Unity</em> or <em>ROS2</em> system time) and <em>ROS2</em> messages.</li>
<li><code>ROS2TimeSource</code> - acquires <em>ROS2</em> time (system time by default).</li>
<li><code>UnityTimeSource</code> - acquires <em>Unity</em> time.</li>
<li><code>DotnetTimeSource</code> - acquires <em>Unity</em> <code>DateTime</code> based clock that has resolution increased using <code>Stopwatch</code>.</li>
<li><code>ITimeSource</code> - interface for general time extraction from any source.</li>
<li><code>TimeUtils</code> - utils for time conversion.</li>
</ul>
</li>
</ul>
<h3 id="extension-scripts">Extension Scripts<a class="headerlink" href="#extension-scripts" title="Permanent link">#</a></h3>
<p>Additionally, in order to adapt <em>AWSIM</em> to the use of <code>R2FU</code>, the following scripts are used:</p>
<ul>
<li><code>SimulatorROS2Node</code> - it is a class that is directly responsible for <em>AWSIM&lt;-&gt;ROS2</em> communication.</li>
<li>
<p><code>ClockPublisher</code> - allows the publication of the simulation time from the clock running in the <em>SimulatorROS2Node</em>.
It must be added as a component to the scene in order to publish the current time when the scene is run.</p>
<p><img alt="clock_publisher" src="clock_publisher.png"></p>
</li>
</ul>
<ul>
<li><code>QoSSettings</code> - it is the equivalent of <em>ROS2</em> <a href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html"><em>QoS</em></a>, which allows to specify the <em>QoS</em> for subscribers and publishers in <em>AWSIM</em>.
It uses the <a href="https://github.com/RobotecAI/ros2cs/blob/develop/src/ros2cs/ros2cs_core/QualityOfServiceProfile.cs"><code>QualityOfServiceProfile</code></a> implementation from the <a href="https://github.com/RobotecAI/ros2cs">Ros2cs</a> library.</li>
<li><code>ROS2Utility</code> - it is a class with utils that allow, for example, to convert positions in the <em>ROS2</em> coordinate system to the <em>AWSIM</em> coordinate system.</li>
<li><code>DiagnosticsManager</code> - prints diagnostics for desired elements described in <code>*.yaml</code> config file.</li>
</ul>
<h2 id="default-message-types">Default message types<a class="headerlink" href="#default-message-types" title="Permanent link">#</a></h2>
<p>The basic <em>ROS2</em> msgs types that are supported in <em>AWSIM</em> by default include:</p>
<ul>
<li><a href="https://index.ros.org/r/common_interfaces/github-ros2-common_interfaces/">common_interfaces</a>:<ul>
<li><a href="https://index.ros.org/p/std_msgs/github-ros2-common_interfaces/#humble"><code>std_msgs</code></a>.</li>
<li><a href="https://index.ros.org/p/geometry_msgs/github-ros2-common_interfaces/#humble"><code>geometry_msgs</code></a>,</li>
<li><a href="https://index.ros.org/p/sensor_msgs/github-ros2-common_interfaces/#humble"><code>sensor_msgs</code></a>,</li>
<li><a href="https://index.ros.org/p/nav_msgs/github-ros2-common_interfaces/#humble"><code>nav_msgs</code></a>,</li>
<li><a href="https://index.ros.org/p/diagnostic_msgs/github-ros2-common_interfaces/#humble"><code>diagnostic_msgs</code></a>,</li>
</ul>
</li>
<li><a href="https://index.ros.org/r/rcl_interfaces/github-ros2-rcl_interfaces/">rcl_interfaces</a>:<ul>
<li><a href="https://index.ros.org/p/builtin_interfaces/github-ros2-rcl_interfaces/#humble"><code>builtin_interfaces</code></a>,</li>
<li><a href="https://index.ros.org/p/action_msgs/github-ros2-rcl_interfaces/#humble"><code>action_msgs</code></a>,</li>
<li><a href="https://index.ros.org/p/rosgraph_msgs/github-ros2-rcl_interfaces/#humble"><code>rosgraph_msgs</code></a>,</li>
<li><a href="https://index.ros.org/p/test_msgs/github-ros2-rcl_interfaces/#humble"><code>test_msgs</code></a>.</li>
</ul>
</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs">autoware_msgs</a>:<ul>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_common_msgs"><code>autoware_common_msgs</code></a>,</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_control_msgs"><code>autoware_control_msgs</code></a>,</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_localization_msgs"><code>autoware_localization_msgs</code></a>,</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_map_msgs"><code>autoware_map_msgs</code></a>,</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_perception_msgs"><code>autoware_perception_msgs</code></a>,</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_planning_msgs"><code>autoware_planning_msgs</code></a>,</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_sensing_msgs"><code>autoware_sensing_msgs</code></a>,</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_system_msgs"><code>autoware_system_msgs</code></a>,</li>
<li><a href="https://github.com/autowarefoundation/autoware_msgs/tree/main/autoware_vehicle_msgs"><code>autoware_vehicle_msgs</code></a>.</li>
</ul>
</li>
<li><a href="https://github.com/tier4/tier4_autoware_msgs">tier4_autoware_msgs</a>:<ul>
<li><a href="https://github.com/tier4/tier4_autoware_msgs/tree/tier4/universe/tier4_control_msgs"><code>tier4_control_msgs</code></a>,</li>
<li><a href="https://github.com/tier4/tier4_autoware_msgs/tree/tier4/universe/tier4_vehicle_msgs"><code>tier4_vehicle_msgs</code></a>.</li>
</ul>
</li>
<li>Others:<ul>
<li><a href="https://index.ros.org/p/tf2_msgs/github-ros2-geometry2/#humble"><code>tf2_msgs</code></a>,</li>
<li><a href="https://index.ros.org/p/unique_identifier_msgs/github-ros2-unique_identifier_msgs/#humble"><code>unique_identifier_msgs</code></a>.</li>
</ul>
</li>
</ul>
<p>In order for the message package to be used in <em>Unity</em>, its <code>*.dll</code> and <code>*.so</code> libraries must be generated using <code>R2FU</code>.</p>
<div class="admonition tip">
<p class="admonition-title">Custom message</p>
<p>If you want to generate a custom message to allow it to be used in <em>AWSIM</em> please read <a href="../AddACustomROS2Message/">this tutorial</a>.</p>
</div>
<h2 id="use-of-generated-messages-in-unity">Use of generated messages in <em>Unity</em><a class="headerlink" href="#use-of-generated-messages-in-unity" title="Permanent link">#</a></h2>
<p>Each message type is composed of other types - which can also be a complex type.
All of them are based on built-in <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/builtin-types/built-in-types"><em>C#</em> types</a>.
The most common built-in types in messages are <code>bool</code>, <code>int</code>, <code>double</code> and <code>string</code>.
These types have their communication equivalents using <em>ROS2</em>.</p>
<p>A good example of a complex type that is added to other complex types in order to specify a reference - in the form of a timestamp and a frame - is <a href="https://docs.ros2.org/latest/api/std_msgs/msg/Header.html">std_msgs/Header</a>.
This message has the following form:</p>
<div class="highlight"><pre><span></span><code><span class="n">builtin_interfaces</span><span class="o">/</span><span class="n">msg</span><span class="o">/</span><span class="n">Time</span><span class="w"> </span><span class="n">stamp</span>
<span class="kt">string</span><span class="w"> </span><span class="n">frame_id</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">ROS2 directive</p>
<p>In order to work with <em>ROS2</em> in <em>Unity</em>, remember to add the directive <code>using ROS2;</code> at the top of the file to import types from this namespace.</p>
</div>
<h3 id="create-an-object">Create an object<a class="headerlink" href="#create-an-object" title="Permanent link">#</a></h3>
<p>The simplest way to create an object of <a href="https://docs.ros2.org/latest/api/std_msgs/msg/Header.html"><code>Header</code></a> type is:</p>
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Header</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Frame_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"map"</span>
<span class="p">}</span>
</code></pre></div>
<p>It is not required to define the value of each field.
As you can see, it creates an object, filling only <code>frame_id</code> field - and left the field of complex <a href="https://docs.ros2.org/latest/api/builtin_interfaces/msg/Time.html"><code>builtin_interfaces/msg/Time</code></a> type initialized by default.
Time is an important element of any message, how to fill it is written <a href="#filling-a-time">here</a>.</p>
<h3 id="accessing-and-filling-in-message-fields">Accessing and filling in message fields<a class="headerlink" href="#accessing-and-filling-in-message-fields" title="Permanent link">#</a></h3>
<p>As you might have noticed in the previous example, a <em>ROS2</em> message in <em>Unity</em> is just a structure containing the same fields - keep the same names and types.
Access to its fields for reading and filling is the same as for any <em>C#</em> structure.</p>
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">header2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Header</span><span class="p">();</span>
<span class="n">header2</span><span class="p">.</span><span class="n">Frame_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"map"</span><span class="p">;</span>
<span class="n">header2</span><span class="p">.</span><span class="n">Stamp</span><span class="p">.</span><span class="n">sec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"1234567"</span><span class="p">;</span>
<span class="n">Debug</span><span class="p">.</span><span class="n">Log</span><span class="p">(</span><span class="s">$"StampSec: {header2.Stamp.sec} and Frame: {header2.Frame_id}"</span><span class="p">);</span>
</code></pre></div>
<div class="admonition warning">
<p class="admonition-title">Field names</p>
<p>There is one always-present difference in field names.
The <strong>first letter</strong> of each message field in <em>Unity</em> is <strong>always</strong> <strong>uppercase</strong> - even if the base <em>ROS2</em> message from which it is generated is lowercase.</p>
</div>
<h3 id="filling-a-time">Filling a time<a class="headerlink" href="#filling-a-time" title="Permanent link">#</a></h3>
<p>In order to complete the time field of the <a href="https://docs.ros2.org/latest/api/std_msgs/msg/Header.html"><code>Header</code></a> message, we recommend the following methods in <em>AWSIM</em>:</p>
<ol>
<li>
<p>When the message has no <a href="https://docs.ros2.org/latest/api/std_msgs/msg/Header.html"><code>Header</code></a> but only the <a href="https://docs.ros2.org/latest/api/builtin_interfaces/msg/Time.html"><code>Time</code></a> type:</p>
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">header2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Header</span><span class="p">();</span>
<span class="n">header2</span><span class="p">.</span><span class="n">Stamp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SimulatorROS2Node</span><span class="p">.</span><span class="n">GetCurrentRosTime</span><span class="p">();</span>
</code></pre></div>
</li>
<li>
<p>When the message has a <a href="https://docs.ros2.org/latest/api/std_msgs/msg/Header.html"><code>Header</code></a> - like for example  <a href="https://github.com/autowarefoundation/autoware_msgs/blob/main/autoware_vehicle_msgs/msg/VelocityReport.msg">autoware_vehicle_msgs/VelocityReport</a>:</p>
<div class="highlight"><pre><span></span><code><span class="n">velocityReportMsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">autoware_vehicle_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">VelocityReport</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Header</span><span class="p">()</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">Frame_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"map"</span><span class="p">,</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="kt">var</span><span class="w"> </span><span class="n">velocityReportMsgHeader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">velocityReportMsg</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MessageWithHeader</span><span class="p">;</span>
<span class="n">SimulatorROS2Node</span><span class="p">.</span><span class="n">UpdateROSTimestamp</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">velocityReportMsgHeader</span><span class="p">);</span>
</code></pre></div>
</li>
</ol>
<p>These methods allow to fill the <a href="https://docs.ros2.org/latest/api/builtin_interfaces/msg/Time.html"><code>Time</code></a> field in the message object with the simulation time - from <em>ROS2Clock</em></p>
<h3 id="create-a-message-with-array">Create a message with array<a class="headerlink" href="#create-a-message-with-array" title="Permanent link">#</a></h3>
<p>Some message types contain an <a href="https://learn.microsoft.com/en-us/dotnet/csharp/programming-guide/arrays/">array</a> of some type.
An example of such a message is <a href="https://docs.ros2.org/foxy/api/nav_msgs/msg/Path.html"><code>nav_msgs/Path</code></a>, which has a <a href="https://docs.ros2.org/foxy/api/geometry_msgs/msg/PoseStamped.html"><code>PoseStamped</code></a> array.
In order to fill such an array, you must first create a <a href="https://learn.microsoft.com/pl-pl/dotnet/api/system.collections.generic.list-1?view=net-8.0"><code>List&lt;T&gt;</code></a>, fill it and then convert it to a <a href="https://learn.microsoft.com/pl-pl/dotnet/api/system.collections.generic.list-1.toarray?view=net-8.0">raw array</a>.</p>
<div class="highlight"><pre><span></span><code><span class="kt">var</span><span class="w"> </span><span class="n">posesList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">List</span><span class="o">&lt;</span><span class="n">geometry_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">PoseStamped</span><span class="o">&gt;</span><span class="p">();</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="o">=</span><span class="m">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">&lt;=</span><span class="m">5</span><span class="p">;</span><span class="o">++</span><span class="n">i</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">poseStampedMsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">geometry_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">PoseStamped</span><span class="p">();</span>
<span class="w">    </span><span class="n">poseStampedMsg</span><span class="p">.</span><span class="n">Pose</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">X</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="n">poseStampedMsg</span><span class="p">.</span><span class="n">Pose</span><span class="p">.</span><span class="n">Position</span><span class="p">.</span><span class="n">Y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">5</span><span class="o">-</span><span class="n">i</span><span class="p">;</span>
<span class="w">    </span><span class="kt">var</span><span class="w"> </span><span class="n">poseStampedMsgHeader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">poseStampedMsg</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MessageWithHeader</span><span class="p">;</span>
<span class="w">    </span><span class="n">SimulatorROS2Node</span><span class="p">.</span><span class="n">UpdateROSTimestamp</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">poseStampedMsgHeader</span><span class="p">);</span>
<span class="w">    </span><span class="n">posesList</span><span class="p">.</span><span class="n">Add</span><span class="p">(</span><span class="n">poseStampedMsg</span><span class="p">);</span>
<span class="p">}</span>
<span class="kt">var</span><span class="w"> </span><span class="n">pathMsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">nav_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Path</span><span class="p">(){</span><span class="n">Poses</span><span class="o">=</span><span class="n">posesList</span><span class="p">.</span><span class="n">ToArray</span><span class="p">()};</span>
<span class="kt">var</span><span class="w"> </span><span class="n">pathMsgHeader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">pathMsg</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MessageWithHeader</span><span class="p">;</span>
<span class="n">SimulatorROS2Node</span><span class="p">.</span><span class="n">UpdateROSTimestamp</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">pathMsgHeader</span><span class="p">);</span>
<span class="c1">// pathMsg is ready</span>
</code></pre></div>
<h3 id="publish-on-the-topic">Publish on the topic<a class="headerlink" href="#publish-on-the-topic" title="Permanent link">#</a></h3>
<p>In order to publish messages, a publisher object must be created.
The static method <code>CreatePublisher</code> of the <code>SimulatorROS2Node</code> makes it easy.
You must specify the <em>type</em> of message, the <em>topic</em> on which it will be published and the <em>QoS</em> profile.<br>
Below is an example of <code>autoware_vehicle_msgs.msg.VelocityReport</code> type message publication with a frequency of <code>30Hz</code> on <code>/vehicle/status/velocity_status</code> topic, the <a href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html"><em>QoS</em></a> profile is <code>(Reliability=Reliable, Durability=Volatile, History=Keep last, Depth=1</code>):</p>
<div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">ROS2</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">AWSIM</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">VehicleReportRos2Publisher</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">MonoBehaviour</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">float</span><span class="w"> </span><span class="n">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">        </span><span class="kt">int</span><span class="w"> </span><span class="n">publishHz</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">30</span><span class="p">;</span>
<span class="w">        </span><span class="n">QoSSettings</span><span class="w"> </span><span class="n">qosSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QoSSettings</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">ReliabilityPolicy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ReliabilityPolicy</span><span class="p">.</span><span class="n">QOS_POLICY_RELIABILITY_RELIABLE</span><span class="p">,</span>
<span class="w">            </span><span class="n">DurabilityPolicy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">DurabilityPolicy</span><span class="p">.</span><span class="n">QOS_POLICY_DURABILITY_VOLATILE</span><span class="p">,</span>
<span class="w">            </span><span class="n">HistoryPolicy</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">HistoryPolicy</span><span class="p">.</span><span class="n">QOS_POLICY_HISTORY_KEEP_LAST</span><span class="p">,</span>
<span class="w">            </span><span class="n">Depth</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="p">,</span>
<span class="w">        </span><span class="p">};</span>
<span class="w">        </span><span class="kt">string</span><span class="w"> </span><span class="n">velocityReportTopic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"/vehicle/status/velocity_status"</span><span class="p">;</span>
<span class="w">        </span><span class="n">autoware_vehicle_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">VelocityReport</span><span class="w"> </span><span class="n">velocityReportMsg</span><span class="p">;</span>
<span class="w">        </span><span class="n">IPublisher</span><span class="o">&lt;</span><span class="n">autoware_vehicle_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">VelocityReport</span><span class="o">&gt;</span><span class="w"> </span><span class="n">velocityReportPublisher</span><span class="p">;</span>

<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">Start</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Create a message object and fill in the constant fields</span>
<span class="w">            </span><span class="n">velocityReportMsg</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">autoware_vehicle_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">VelocityReport</span><span class="p">()</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="n">Header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Header</span><span class="p">()</span>
<span class="w">                </span><span class="p">{</span>
<span class="w">                    </span><span class="n">Frame_id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"map"</span><span class="p">,</span>
<span class="w">                </span><span class="p">}</span>
<span class="w">            </span><span class="p">};</span>

<span class="w">            </span><span class="c1">// Create publisher with specific topic and QoS profile</span>
<span class="w">            </span><span class="n">velocityReportPublisher</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SimulatorROS2Node</span><span class="p">.</span><span class="n">CreatePublisher</span><span class="o">&lt;</span><span class="n">autoware_vehicle_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">VelocityReport</span><span class="o">&gt;</span><span class="p">(</span><span class="n">velocityReportTopic</span><span class="p">,</span><span class="w"> </span><span class="n">qosSettings</span><span class="p">.</span><span class="n">GetQoSProfile</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">         </span><span class="kt">bool</span><span class="w"> </span><span class="nf">NeedToPublish</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">timer</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">Time</span><span class="p">.</span><span class="n">deltaTime</span><span class="p">;</span>
<span class="w">            </span><span class="kt">var</span><span class="w"> </span><span class="n">interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.0f</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="n">publishHz</span><span class="p">;</span>
<span class="w">            </span><span class="n">interval</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="m">0.00001f</span><span class="p">;</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">timer</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">interval</span><span class="p">)</span>
<span class="w">                </span><span class="k">return</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">            </span><span class="n">timer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0</span><span class="p">;</span>
<span class="w">            </span><span class="k">return</span><span class="w"> </span><span class="k">true</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">FixedUpdate</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Provide publications with a given frequency</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">NeedToPublish</span><span class="p">())</span>
<span class="w">            </span><span class="p">{</span>
<span class="w">                </span><span class="c1">// Fill in non-constant fields</span>
<span class="w">                </span><span class="n">velocityReportMsg</span><span class="p">.</span><span class="n">Longitudinal_velocity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1.00f</span><span class="p">;</span>
<span class="w">                </span><span class="n">velocityReportMsg</span><span class="p">.</span><span class="n">Lateral_velocity</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.00f</span><span class="p">;</span>
<span class="w">                </span><span class="n">velocityReportMsg</span><span class="p">.</span><span class="n">Heading_rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">0.00f</span><span class="p">;</span>

<span class="w">                </span><span class="c1">// Update Stamp</span>
<span class="w">                </span><span class="kt">var</span><span class="w"> </span><span class="n">velocityReportMsgHeader</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">velocityReportMsg</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="n">MessageWithHeader</span><span class="p">;</span>
<span class="w">                </span><span class="n">SimulatorROS2Node</span><span class="p">.</span><span class="n">UpdateROSTimestamp</span><span class="p">(</span><span class="k">ref</span><span class="w"> </span><span class="n">velocityReportMsgHeader</span><span class="p">);</span>

<span class="w">                </span><span class="c1">// Publish</span>
<span class="w">                </span><span class="n">velocityReportPublisher</span><span class="p">.</span><span class="n">Publish</span><span class="p">(</span><span class="n">velocityReportMsg</span><span class="p">);</span>
<span class="w">            </span><span class="p">}</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<h4 id="upper-limit-to-publish-rate">Upper limit to publish rate<a class="headerlink" href="#upper-limit-to-publish-rate" title="Permanent link">#</a></h4>
<p>The above example demonstrates the implementation of the <code>'publish'</code> method within the <code>FixedUpdate</code> Unity event method. However, this approach has certain limitations. The maximum output frequency is directly tied to the current value of <code>Fixed TimeStep</code> specified in the <code>Project Settings</code>. Considering that the AWSIM is targeting a frame rate of 60 frames per second (FPS), the current <code>Fixed TimeStep</code> is set to 1/60s. And this impose 60Hz as a limitation on the publish rate for any sensor, which is implemented within <code>FixedUpdate</code> method. In case a higher output frequency be necessary, an alternative implementation must be considered or adjustments made to the <code>Fixed TimeStep</code> setting in the <code>Editor-&gt;Project Settings-&gt;Time</code>.</p>
<p>The table provided below presents a list of sensors along with examples of topics that are constrained by the <code>Fixed TimeStep</code> limitation.</p>
<table>
<thead>
<tr>
<th align="left">Object</th>
<th align="left">Topic</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">GNSS Sensor</td>
<td align="left">/sensing/gnss/pose</td>
</tr>
<tr>
<td align="left">IMU Sensor</td>
<td align="left">/sensing/imu/tamagawa/imu_raw</td>
</tr>
<tr>
<td align="left">Traffic Camera</td>
<td align="left">/sensing/camera/traffic_light/image_raw</td>
</tr>
<tr>
<td align="left">Pose Sensor</td>
<td align="left">/awsim/ground_truth/vehicle/pose</td>
</tr>
<tr>
<td align="left">OdometrySensor</td>
<td align="left">/awsim/ground_truth/localization/kinematic_state</td>
</tr>
<tr>
<td align="left">LIDAR</td>
<td align="left">/sensing/lidar/top/pointcloud_raw</td>
</tr>
<tr>
<td align="left">Vehicle Status</td>
<td align="left">/vehicle/status/velocity_status</td>
</tr>
</tbody>
</table>
<p>If the sensor or any other publishing object within AWSIM does not have any direct correlation with physics (i.e., does not require synchronization with physics), it can be implemented without using the <code>FixedUpdate</code> method. Consequently, this allows the bypass of upper limits imposed by the <code>Fixed TimeStep</code>.</p>
<p>The table presented below shows a list of objects that are not constrained by the <code>Fixed TimeStep</code> limitation.</p>
<table>
<thead>
<tr>
<th align="left">Object</th>
<th align="left">Topic</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Clock</td>
<td align="left">/clock</td>
</tr>
</tbody>
</table>
<h3 id="subscribe-to-the-topic">Subscribe to the topic<a class="headerlink" href="#subscribe-to-the-topic" title="Permanent link">#</a></h3>
<p>In order to subscribe messages, a subscriber object must be created.
The static method <code>CreateSubscription</code> of the <code>SimulatorROS2Node</code> makes it easy.
You must specify the <em>type</em> of message, the <em>topic</em> from which it will be subscribed and the <a href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html"><em>QoS</em></a> profile.
In addition, the <em>callback</em> must be defined, which will be called when the message is received - in particular, it can be defined as a <a href="https://learn.microsoft.com/en-us/dotnet/csharp/language-reference/operators/lambda-expressions">lambda expression</a>.<br>
Below is an example of <code>std_msgs.msg.Bool</code> type message subscription on <code>/vehicle/is_vehicle_stopped</code> topic, the <a href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html"><em>QoS</em></a> profile is <a href="https://docs.ros.org/en/humble/Concepts/About-Quality-of-Service-Settings.html"><code>system default</code></a>:
</p><div class="highlight"><pre><span></span><code><span class="k">using</span><span class="w"> </span><span class="nn">UnityEngine</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="nn">ROS2</span><span class="p">;</span>

<span class="k">namespace</span><span class="w"> </span><span class="nn">AWSIM</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">public</span><span class="w"> </span><span class="k">class</span><span class="w"> </span><span class="nc">VehicleStoppedSubscriber</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="n">MonoBehaviour</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="n">QoSSettings</span><span class="w"> </span><span class="n">qosSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">QoSSettings</span><span class="p">();</span>
<span class="w">        </span><span class="kt">string</span><span class="w"> </span><span class="n">isVehicleStoppedTopic</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">"/vehicle/is_vehicle_stopped"</span><span class="p">;</span>
<span class="w">        </span><span class="kt">bool</span><span class="w"> </span><span class="n">isVehicleStopped</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">false</span><span class="p">;</span>
<span class="w">        </span><span class="n">ISubscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Bool</span><span class="o">&gt;</span><span class="w"> </span><span class="n">isVehicleStoppedSubscriber</span><span class="p">;</span>

<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">Start</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">isVehicleStoppedSubscriber</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SimulatorROS2Node</span><span class="p">.</span><span class="n">CreateSubscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">isVehicleStoppedTopic</span><span class="p">,</span><span class="w"> </span><span class="n">VehicleStoppedCallback</span><span class="p">,</span><span class="w"> </span><span class="n">qosSettings</span><span class="p">.</span><span class="n">GetQoSProfile</span><span class="p">());</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">VehicleStoppedCallback</span><span class="p">(</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Bool</span><span class="w"> </span><span class="n">msg</span><span class="p">)</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">isVehicleStopped</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">msg</span><span class="p">.</span><span class="n">Data</span><span class="p">;</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">void</span><span class="w"> </span><span class="nf">OnDestroy</span><span class="p">()</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">            </span><span class="n">SimulatorROS2Node</span><span class="p">.</span><span class="n">RemoveSubscription</span><span class="o">&lt;</span><span class="n">std_msgs</span><span class="p">.</span><span class="n">msg</span><span class="p">.</span><span class="n">Bool</span><span class="o">&gt;</span><span class="p">(</span><span class="n">isVehicleStoppedSubscriber</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<!-- TODO: Service Server -  -->
<!-- TODO: Service Client - --></div>












                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
    
      
      <nav class="md-footer__inner md-grid" aria-label="Footer" >
        
          
          <a href="../AddACustomROS2Message/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Add custom ROS2 msg">
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
            </div>
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Previous
              </span>
              <div class="md-ellipsis">
                Add custom ROS2 msg
              </div>
            </div>
          </a>
        
        
          
          <a href="../../ScenarioSimulation/SetupUnityProjectForScenarioSimulation/" class="md-footer__link md-footer__link--next" aria-label="Next: Setup Unity project for scenario simulation">
            <div class="md-footer__title">
              <span class="md-footer__direction">
                Next
              </span>
              <div class="md-ellipsis">
                Setup Unity project for scenario simulation
              </div>
            </div>
            <div class="md-footer__button md-icon">
              
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11z"/></svg>
            </div>
          </a>
        
      </nav>
    
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.expand", "navigation.instant", "navigation.sections", "navigation.tabs.sticky", "navigation.top", "navigation.footer", "navigation.path", "content.tabs.link"], "search": "../../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.56dfad97.min.js"></script>
      
        <script src="../../../assets/js/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>